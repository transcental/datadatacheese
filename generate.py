# /// script
# requires-python = ">=3.13"
# dependencies = [
#     "pillow",
#     "qrcode",
# ]
# ///

import qrcode

data_uri = "data:text/html;charset=UTF-8;base64,PHRpdGxlPkRhdGEgRGF0YSBDaGVlc2Ug8J+ngCE8L3RpdGxlPjxzdHlsZT5ib2R5e2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjUwcHg7YmFja2dyb3VuZDpnb2xkO30jbWFpbntkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2dhcDoxNXB4O30jcmlnaHR7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjt9I3RleHR7Zm9udC1mYW1pbHk6bW9ub3NwYWNlO31idXR0b257Y29sb3I6cHVycGxlO2JhY2tncm91bmQ6Z29sZDtwYWRkaW5nOiAxMHB4O2JvcmRlcjoxcHggc29saWQgZ29sZGVucm9kO31idXR0b246aG92ZXJ7YmFja2dyb3VuZDpwdXJwbGU7Y29sb3I6Z29sZDt0cmFuc2l0aW9uLWR1cmF0aW9uOjAuNXM7fXRleHRhcmVhe3dpZHRoOjMwZHZ3O31wPCNtYWlue2NvbG9yOnJlZDt9cCNkaXNwbGF5e2JhY2tncm91bmQ6bGlnaHRncmF5O2JvcmRlci1yYWRpdXM6NXB4O2JvcmRlcjoxcHggc29saWQgYmxhY2s7cGFkZGluZzo1cHg7d2lkdGg6MzBkdnc7b3ZlcmZsb3ctd3JhcDpicmVhay13b3JkO2ZvbnQtZmFtaWx5Om1vbm9zcGFjZTt9ZW17Zm9udC13ZWlnaHQ6Ym9sZDtmb250LXN0eWxlOml0YWxpYzt9aDJ7dGV4dC1hbGlnbjpjZW50ZXI7fTwvc3R5bGU+PGJvZHk+PGgxPkRhdGEgRGF0YSBEYXRhIENoZWVlZWVlZXNlIPCfp4A8L2gxPjxwIGlkPSJpbnRybyIgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyO21heC13aWR0aDo3MDBweDsiPmhpISEhITxici8+aGF2ZSB5b3UgZXZlciB3YW50ZWQgdG8gbWFrZSBhIEhUTUwgZGF0YSBVUkw/IG5vPyBmYWlyIGVub3VnaCAtIG1lIG5laXRoZXIgdW50aWwgbm93LiB3ZWxsIDxlbT5tYXliZTwvZW0+IHlvdSBkaWQuIG9uIHRoZSBjaGFuY2UgeW91IGRpZCwgaXQncyA8ZW0+cG9zc2libGU8L2VtPiB0aGF0IHlvdSB3YW50IGl0IHRvIGZpdCBpbiBhIFFSIGNvZGUgc28gdGhhdCB5b3UgY291bGQgcHJpbnQgaXQgb3V0IGFuZCBlYXNpbHkgYWNjZXNzIGl0IHdoZXJldmVyIHlvdSBhcmUhIHRoYXQncyB3aGVyZSB0aGlzIHRvb2wgY29tZXMgaW4gOkQ8YnIvPnlvdSBjYW4gY3JlYXRlIHlvdXIgb3duIEhUTUwgZGF0YSBVUkxzIGZyb20gdGhpcyBzaXRlIHdoaWNoIGZpdHMgaW4gYSBRUiBjb2RlITwvcD48ZGl2IGlkPSJtYWluIj48ZGl2IGlkPSJyaWdodCI+PGgyPmNvZGUgZ29lcyBoZXJlIDozPC9oMj48dGV4dGFyZWEgbmFtZT0idGV4dCIgaWQ9InRleHQiIGNvbHM9IjMwIiByb3dzPSIxMCI+PC90ZXh0YXJlYT48L2Rpdj48aHIvPjxkaXYgaWQ9InJpZ2h0Ij48aDI+b3V0cHV0IGFycml2ZXMgaGVyZSA6MzwvaDI+PHAgaWQ9ImRpc3BsYXkiPjwvcD48ZGl2IGlkPSJidXR0b25zIj48YnV0dG9uIG9uY2xpY2s9ImUoKSI+Y29weSBkYXRhIHVyaTwvYnV0dG9uPjwvZGl2PjwvZGl2PjwvZGl2PjxzY3JpcHQ+bGV0IGE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RleHQnKTtsZXQgYj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheScpO2xldCBjPScnO2EuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLGQpO2Z1bmN0aW9uIGQoKXtsZXQgaT1hLnZhbHVlO2M9YGRhdGE6dGV4dC9odG1sO2NoYXJzZXQ9VVRGLTg7YmFzZTY0LCR7YnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoaSkpKX1gO2IudGV4dENvbnRlbnQ9Y307YXN5bmMgZnVuY3Rpb24gZSgpe2QoKTthbGVydCgnbnVoIHVoLCBubyBzZWN1cmUnKX08L3NjcmlwdD48L2JvZHk+"

filename = "qrcode"

qr = qrcode.QRCode(
    version=40,
    error_correction=qrcode.constants.ERROR_CORRECT_L,
    box_size=10,
    border=5,
)

qr.add_data(data_uri)
qr.make(fit=True)

img = qr.make_image(fill_color="black", back_color="white")
img.save(f"{filename}.png")
